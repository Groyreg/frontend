<template>
    <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ >>> -->
    <section>
        <h4 class="title">–£—á–∞—Å—Ç–Ω–∏–∫–∏</h4>

        <v-form>

            <v-autocomplete
                    color="success"
                    outlined
                    multiple
                    chips
                    hide-no-data hide-selected
                    v-model="selectedMembers"
                    :items="members"
                    label="üåÄ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª–∞–≤–∏—à–∏: ‚Üë ‚Üì esc ‚Üµ ‚å´"
                    item-text="name" item-value="name"
            >

                <template v-slot:selection="selectedMembers">
                    <v-chip
                            close
                            v-bind="selectedMembers.attrs"
                            :input-value="selectedMembers.selected"
                            @click="selectedMembers.select" @click:close="remove(selectedMembers.item)"
                    >
                        <v-avatar left>
                            <v-img :src="selectedMembers.item.avatar"/>
                        </v-avatar>
                        {{ selectedMembers.item.name }}
                    </v-chip>
                </template>


                <template v-slot:item="members">

                    <template v-if="typeof members.item !== 'object'">
                        <v-list-item-content v-text="members.item"/>
                    </template>

                    <template v-else>
                        <v-list-item-avatar>
                            <img :src="members.item.avatar" alt="avatar"/>
                        </v-list-item-avatar>
                        <v-list-item-content>
                            <v-list-item-title>{{members.item.name}}</v-list-item-title>
                            <v-list-item-subtitle v-html="members.item.group"/>
                        </v-list-item-content>

                    </template>
                </template>


            </v-autocomplete>
        </v-form>
        <!-- <<< –£—á–∞—Å—Ç–Ω–∏–∫–∏ -->
    </section>
</template>

<script>
    export default {
        data() {

            return {
                selectedMembers: ['–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü–µ—Ç—Ä–æ–≤–∏—á', '–°–∞—à–∞ –ì—Ä–µ–π'],
                members: [
                    {header: '–ú–æ–∏ —Å–æ—Å–µ–¥–∏'},
                    {name: '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü–µ—Ç—Ä–æ–≤–∏—á', group: '–ú–æ–∏ —Å–æ—Å–µ–¥–∏', avatar: 'https://cdn.vuetifyjs.com/images/lists/2.jpg'},
                    {name: '–ú—ã—à–∫–∞', group: '–ú–æ–∏ —Å–æ—Å–µ–¥–∏', avatar: 'https://cdn.vuetifyjs.com/images/lists/2.jpg'},
                    {name: '–ö–æ—Ç–∏–∫', group: '–ú–æ–∏ —Å–æ—Å–µ–¥–∏', avatar: 'https://cdn.vuetifyjs.com/images/lists/3.jpg'},
                    {name: '–°–º–µ–ª—ã–π –ì—É—Å—å', group: '–ú–æ–∏ —Å–æ—Å–µ–¥–∏', avatar: 'https://cdn.vuetifyjs.com/images/lists/2.jpg'},
                    // {divider: true},
                    {header: '–ù–µ –º–æ–∏ —Å–æ—Å–µ–¥–∏'},
                    {name: '–ö–∞—Ç—è –ë–ª—É', group: '–ù–µ –º–æ–∏ —Å–æ—Å–µ–¥–∏', avatar: 'https://cdn.vuetifyjs.com/images/lists/4.jpg'},
                    {name: '–ù–∏–Ω–∞ –°–º–µ–ª–∞—è', group: '–ù–µ –º–æ–∏ —Å–æ—Å–µ–¥–∏', avatar: 'https://cdn.vuetifyjs.com/images/lists/5.jpg'},
                    {name: '–ò–≤–∞–Ω –ü—É–ø–∫–∏–Ω', group: '–ù–µ –º–æ–∏ —Å–æ—Å–µ–¥–∏', avatar: 'https://cdn.vuetifyjs.com/images/lists/2.jpg'},
                    {name: '–°–∞—à–∞ –ì—Ä–µ–π', group: '–ù–µ –º–æ–∏ —Å–æ—Å–µ–¥–∏', avatar: 'https://cdn.vuetifyjs.com/images/lists/3.jpg'},
                ],

            };
        },
        created() {
        },
        methods: {
            remove(item) {
                const index = this.selectedMembers.indexOf(item.name);
                if (index >= 0) this.selectedMembers.splice(index, 1)
            },
        }

    }
</script>

<style scoped lang="scss">

</style>
